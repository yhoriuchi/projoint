<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>FAQ Page ‚Ä¢ projoint</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="FAQ Page">
<meta name="description" content="Frequently Asked Questions
">
<meta property="og:description" content="Frequently Asked Questions
">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">projoint</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/faq.html">FAQ</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<script src="faq_files/font-awesome-6.7.2/js/script.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>FAQ Page</h1>
            
      

      <div class="d-none name"><code>faq.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="what-is-the-history-of-conjoint-analysis-what-is-the-difference-between-profile-level-and-choice-level-data">What is the history of conjoint analysis? What is the difference
between ‚Äúprofile-level‚Äù and ‚Äúchoice-level‚Äù data?<a class="anchor" aria-label="anchor" href="#what-is-the-history-of-conjoint-analysis-what-is-the-difference-between-profile-level-and-choice-level-data"></a>
</h2>
<details><summary>
Conjoint designs were popular in market research.
</summary><p>Each respondent was given two different profiles (e.g., of a product)
and then was asked to rate each of the profiles. Doing so meant that
each rating could be thought of as an observation. Thus, researchers
were allowed to ‚Äústack‚Äù their data vertically, with one profile-per-row
(i.e., ‚Äúprofile-level data‚Äù). However, when respondents were then asked
to make a choice between the two profiles, these profiles are no longer
independent; choosing one necessarily meant not choosing the other.
While researchers often still stack their data into profile-level, this
should not be the case. Instead, we use choice-level data, whereby each
choice consisting of two profiles is recorded as a single
observation.</p>
<p>See the
<a href="../articles/structure.html" target="_blank">choice-level
analysis article</a> for more information about profile-level
vs.¬†choice-level structure.</p>
See the <a href="../articles/correct.html" target="_blank">bias
correction article</a> for more information about how projoint corrects
bias.
</details>
</div>
<div class="section level2">
<h2 id="what-if-i-have-profile-level-data">What if I have profile-level data?<a class="anchor" aria-label="anchor" href="#what-if-i-have-profile-level-data"></a>
</h2>
<details><summary>
We have tools available to help you with profile-level QOIs:
</summary><details><summary><b>Profile-Level MMs (All Levels)</b>
</summary><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mm0</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/projoint.html">projoint</a></span><span class="op">(</span><span class="va">out1</span>, .structure <span class="op">=</span> <span class="st">"profile_level"</span>, .estimand <span class="op">=</span> <span class="st">"mm"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">mm0</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Projoint results object</span></span>
<span><span class="co">## -------------------------</span></span>
<span><span class="co">## Estimand:  mm </span></span>
<span><span class="co">## Structure:  profile_level </span></span>
<span><span class="co">## Standard error method:  analytical </span></span>
<span><span class="co">## IRR:  Estimated </span></span>
<span><span class="co">## Tau:  0.172 </span></span>
<span><span class="co">## Number of estimates:  48</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mm0</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Summary of Projoint Estimates</span></span>
<span><span class="co">## ------------------------------</span></span>
<span><span class="co">## Estimand: mm</span></span>
<span><span class="co">## Structure: profile_level</span></span>
<span><span class="co">## Standard error method: analytical</span></span>
<span><span class="co">## SE type (lm_robust):   CR2 (clustered by id)</span></span>
<span><span class="co">## IRR: Estimated</span></span>
<span><span class="co">## Tau: 0.172</span></span></code></pre>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 48 √ó 6</span></span></span>
<span><span class="co">##    estimand       estimate     se conf.low conf.high att_level_choose</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> mm_uncorrected    0.574 0.014<span style="text-decoration: underline;">2</span>    0.546     0.602 att1:level1     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> mm_corrected      0.614 0.021<span style="text-decoration: underline;">9</span>    0.571     0.657 att1:level1     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> mm_uncorrected    0.485 0.013<span style="text-decoration: underline;">6</span>    0.458     0.511 att1:level2     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> mm_corrected      0.477 0.020<span style="text-decoration: underline;">7</span>    0.436     0.517 att1:level2     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> mm_uncorrected    0.445 0.014<span style="text-decoration: underline;">2</span>    0.417     0.472 att1:level3     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> mm_corrected      0.416 0.021<span style="text-decoration: underline;">9</span>    0.372     0.459 att1:level3     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> mm_uncorrected    0.489 0.015<span style="text-decoration: underline;">0</span>    0.459     0.518 att2:level1     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> mm_corrected      0.483 0.022<span style="text-decoration: underline;">9</span>    0.438     0.528 att2:level1     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> mm_uncorrected    0.524 0.013<span style="text-decoration: underline;">3</span>    0.497     0.550 att2:level2     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> mm_corrected      0.536 0.020<span style="text-decoration: underline;">3</span>    0.496     0.576 att2:level2     </span></span>
<span><span class="co">## <span style="color: #949494;"># ‚Ñπ 38 more rows</span></span></span></code></pre>
</details><details><summary><b>Profile-Level MMs (Specific Level)</b>
</summary><div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">qoi_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/set_qoi.html">set_qoi</a></span><span class="op">(</span></span>
<span>  .structure <span class="op">=</span> <span class="st">"profile_level"</span>,</span>
<span>  .estimand <span class="op">=</span> <span class="st">"mm"</span>,</span>
<span>  .att_choose <span class="op">=</span> <span class="st">"att1"</span>,</span>
<span>  .lev_choose <span class="op">=</span> <span class="st">"level1"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">mm1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/projoint.html">projoint</a></span><span class="op">(</span><span class="va">out1</span>, .qoi <span class="op">=</span> <span class="va">qoi_1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">mm1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Projoint results object</span></span>
<span><span class="co">## -------------------------</span></span>
<span><span class="co">## Estimand:  mm </span></span>
<span><span class="co">## Structure:  profile_level </span></span>
<span><span class="co">## Standard error method:  analytical </span></span>
<span><span class="co">## IRR:  Estimated </span></span>
<span><span class="co">## Tau:  0.172 </span></span>
<span><span class="co">## Number of estimates:  2</span></span></code></pre>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mm1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Summary of Projoint Estimates</span></span>
<span><span class="co">## ------------------------------</span></span>
<span><span class="co">## Estimand: mm</span></span>
<span><span class="co">## Structure: profile_level</span></span>
<span><span class="co">## Standard error method: analytical</span></span>
<span><span class="co">## SE type (lm_robust):   CR2 (clustered by id)</span></span>
<span><span class="co">## IRR: Estimated</span></span>
<span><span class="co">## Tau: 0.172</span></span></code></pre>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 2 √ó 7</span></span></span>
<span><span class="co">##   estimand       estimate     se conf.low conf.high att_level_choose</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> mm_uncorrected    0.574 0.014<span style="text-decoration: underline;">2</span>    0.546     0.602 att1:level1     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> mm_corrected      0.614 0.021<span style="text-decoration: underline;">9</span>    0.571     0.657 att1:level1     </span></span>
<span><span class="co">## <span style="color: #949494;"># ‚Ñπ 1 more variable: att_level_notchoose &lt;chr&gt;</span></span></span></code></pre>
</details><details><summary><b>Profile-Level MMs (Specific Level, Manual IRR)</b>
</summary><div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mm1b</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/projoint.html">projoint</a></span><span class="op">(</span><span class="va">out1</span>, .qoi <span class="op">=</span> <span class="va">qoi_1</span>, .irr <span class="op">=</span> <span class="fl">0.75</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">mm1b</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Projoint results object</span></span>
<span><span class="co">## -------------------------</span></span>
<span><span class="co">## Estimand:  mm </span></span>
<span><span class="co">## Structure:  profile_level </span></span>
<span><span class="co">## Standard error method:  analytical </span></span>
<span><span class="co">## IRR:  Assumed (0.75) </span></span>
<span><span class="co">## Tau:  0.146 </span></span>
<span><span class="co">## Number of estimates:  2</span></span></code></pre>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mm1b</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Summary of Projoint Estimates</span></span>
<span><span class="co">## ------------------------------</span></span>
<span><span class="co">## Estimand: mm</span></span>
<span><span class="co">## Structure: profile_level</span></span>
<span><span class="co">## Standard error method: analytical</span></span>
<span><span class="co">## SE type (lm_robust):   CR2 (clustered by id)</span></span>
<span><span class="co">## IRR: Assumed (0.75)</span></span>
<span><span class="co">## Tau: 0.146</span></span></code></pre>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 2 √ó 7</span></span></span>
<span><span class="co">##   estimand       estimate     se conf.low conf.high att_level_choose</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> mm_uncorrected    0.574 0.014<span style="text-decoration: underline;">2</span>    0.546     0.602 att1:level1     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> mm_corrected      0.605 0.020<span style="text-decoration: underline;">1</span>    0.566     0.645 att1:level1     </span></span>
<span><span class="co">## <span style="color: #949494;"># ‚Ñπ 1 more variable: att_level_notchoose &lt;chr&gt;</span></span></span></code></pre>
</details><details><summary><b>Profile-Level AMCEs (All Levels)</b>
</summary><div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">amce0</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/projoint.html">projoint</a></span><span class="op">(</span><span class="va">out1</span>, .structure <span class="op">=</span> <span class="st">"profile_level"</span>, .estimand <span class="op">=</span> <span class="st">"amce"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning in sqrt(diag(vcov_fit$Vcov_hat)): NaNs produced</span></span></code></pre>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">amce0</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Projoint results object</span></span>
<span><span class="co">## -------------------------</span></span>
<span><span class="co">## Estimand:  amce </span></span>
<span><span class="co">## Structure:  profile_level </span></span>
<span><span class="co">## Standard error method:  analytical </span></span>
<span><span class="co">## IRR:  Estimated </span></span>
<span><span class="co">## Tau:  0.172 </span></span>
<span><span class="co">## Number of estimates:  34</span></span></code></pre>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">amce0</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Summary of Projoint Estimates</span></span>
<span><span class="co">## ------------------------------</span></span>
<span><span class="co">## Estimand: amce</span></span>
<span><span class="co">## Structure: profile_level</span></span>
<span><span class="co">## Standard error method: analytical</span></span>
<span><span class="co">## SE type (lm_robust):   CR2 (clustered by id)</span></span>
<span><span class="co">## IRR: Estimated</span></span>
<span><span class="co">## Tau: 0.172</span></span></code></pre>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 34 √ó 7</span></span></span>
<span><span class="co">##    estimand         estimate     se conf.low conf.high att_level_choose</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> amce_uncorrected -<span style="color: #BB0000;">0.089</span><span style="color: #BB0000; text-decoration: underline;">9</span>  0.023<span style="text-decoration: underline;">6</span>  -<span style="color: #BB0000;">0.136</span>    -<span style="color: #BB0000;">0.043</span><span style="color: #BB0000; text-decoration: underline;">5</span> att1:level2     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> amce_corrected   -<span style="color: #BB0000;">0.137</span>   0.036<span style="text-decoration: underline;">0</span>  -<span style="color: #BB0000;">0.208</span>    -<span style="color: #BB0000;">0.066</span><span style="color: #BB0000; text-decoration: underline;">2</span> att1:level2     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> amce_uncorrected -<span style="color: #BB0000;">0.130</span>   0.025<span style="text-decoration: underline;">0</span>  -<span style="color: #BB0000;">0.179</span>    -<span style="color: #BB0000;">0.080</span><span style="color: #BB0000; text-decoration: underline;">8</span> att1:level3     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> amce_corrected   -<span style="color: #BB0000;">0.198</span>   0.038<span style="text-decoration: underline;">6</span>  -<span style="color: #BB0000;">0.274</span>    -<span style="color: #BB0000;">0.122</span>  att1:level3     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> amce_uncorrected  0.034<span style="text-decoration: underline;">8</span>  0.024<span style="text-decoration: underline;">4</span>  -<span style="color: #BB0000;">0.013</span><span style="color: #BB0000; text-decoration: underline;">2</span>    0.082<span style="text-decoration: underline;">8</span> att2:level2     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> amce_corrected    0.053<span style="text-decoration: underline;">0</span>  0.037<span style="text-decoration: underline;">2</span>  -<span style="color: #BB0000;">0.020</span><span style="color: #BB0000; text-decoration: underline;">2</span>    0.126  att2:level2     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> amce_uncorrected -<span style="color: #BB0000;">0.001</span><span style="color: #BB0000; text-decoration: underline;">77</span> 0.026<span style="text-decoration: underline;">3</span>  -<span style="color: #BB0000;">0.053</span><span style="color: #BB0000; text-decoration: underline;">6</span>    0.050<span style="text-decoration: underline;">0</span> att2:level3     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> amce_corrected   -<span style="color: #BB0000;">0.002</span><span style="color: #BB0000; text-decoration: underline;">70</span> 0.040<span style="text-decoration: underline;">2</span>  -<span style="color: #BB0000;">0.081</span><span style="color: #BB0000; text-decoration: underline;">7</span>    0.076<span style="text-decoration: underline;">3</span> att2:level3     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> amce_uncorrected  0.024<span style="text-decoration: underline;">0</span>  0.023<span style="text-decoration: underline;">3</span>  -<span style="color: #BB0000;">0.021</span><span style="color: #BB0000; text-decoration: underline;">8</span>    0.069<span style="text-decoration: underline;">9</span> att3:level2     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> amce_corrected    0.036<span style="text-decoration: underline;">6</span>  0.035<span style="text-decoration: underline;">7</span>  -<span style="color: #BB0000;">0.033</span><span style="color: #BB0000; text-decoration: underline;">6</span>    0.107  att3:level2     </span></span>
<span><span class="co">## <span style="color: #949494;"># ‚Ñπ 24 more rows</span></span></span>
<span><span class="co">## <span style="color: #949494;"># ‚Ñπ 1 more variable: att_level_choose_baseline &lt;chr&gt;</span></span></span></code></pre>
</details><details><summary><b>Profile-Level AMCEs (Specific Level)</b>
</summary><div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">qoi_3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/set_qoi.html">set_qoi</a></span><span class="op">(</span></span>
<span>  .structure <span class="op">=</span> <span class="st">"profile_level"</span>,</span>
<span>  .estimand <span class="op">=</span> <span class="st">"amce"</span>,</span>
<span>  .att_choose <span class="op">=</span> <span class="st">"att1"</span>,</span>
<span>  .lev_choose <span class="op">=</span> <span class="st">"level3"</span>,</span>
<span>  .att_choose_b <span class="op">=</span> <span class="st">"att1"</span>,</span>
<span>  .lev_choose_b <span class="op">=</span> <span class="st">"level1"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">amce1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/projoint.html">projoint</a></span><span class="op">(</span><span class="va">out1</span>, .qoi <span class="op">=</span> <span class="va">qoi_3</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">amce1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Projoint results object</span></span>
<span><span class="co">## -------------------------</span></span>
<span><span class="co">## Estimand:  amce </span></span>
<span><span class="co">## Structure:  profile_level </span></span>
<span><span class="co">## Standard error method:  analytical </span></span>
<span><span class="co">## IRR:  Estimated </span></span>
<span><span class="co">## Tau:  0.172 </span></span>
<span><span class="co">## Number of estimates:  2</span></span></code></pre>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">amce1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Summary of Projoint Estimates</span></span>
<span><span class="co">## ------------------------------</span></span>
<span><span class="co">## Estimand: amce</span></span>
<span><span class="co">## Structure: profile_level</span></span>
<span><span class="co">## Standard error method: analytical</span></span>
<span><span class="co">## SE type (lm_robust):   CR2 (clustered by id)</span></span>
<span><span class="co">## IRR: Estimated</span></span>
<span><span class="co">## Tau: 0.172</span></span></code></pre>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 2 √ó 9</span></span></span>
<span><span class="co">##   estimand         estimate     se conf.low conf.high att_level_choose</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> amce_uncorrected   -<span style="color: #BB0000;">0.130</span> 0.025<span style="text-decoration: underline;">0</span>   -<span style="color: #BB0000;">0.179</span>   -<span style="color: #BB0000;">0.080</span><span style="color: #BB0000; text-decoration: underline;">8</span> att1:level3     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> amce_corrected     -<span style="color: #BB0000;">0.198</span> 0.038<span style="text-decoration: underline;">6</span>   -<span style="color: #BB0000;">0.274</span>   -<span style="color: #BB0000;">0.122</span>  att1:level3     </span></span>
<span><span class="co">## <span style="color: #949494;"># ‚Ñπ 3 more variables: att_level_notchoose &lt;chr&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   att_level_choose_baseline &lt;chr&gt;, att_level_notchoose_baseline &lt;chr&gt;</span></span></span></code></pre>
</details><details><summary><b>Profile-Level AMCEs (Specific Level, Manual IRR)</b>
</summary><div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">amce1b</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/projoint.html">projoint</a></span><span class="op">(</span><span class="va">out1</span>, .qoi <span class="op">=</span> <span class="va">qoi_3</span>, .irr <span class="op">=</span> <span class="fl">0.75</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">amce1b</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Projoint results object</span></span>
<span><span class="co">## -------------------------</span></span>
<span><span class="co">## Estimand:  amce </span></span>
<span><span class="co">## Structure:  profile_level </span></span>
<span><span class="co">## Standard error method:  analytical </span></span>
<span><span class="co">## IRR:  Assumed (0.75) </span></span>
<span><span class="co">## Tau:  0.146 </span></span>
<span><span class="co">## Number of estimates:  2</span></span></code></pre>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">amce1b</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Summary of Projoint Estimates</span></span>
<span><span class="co">## ------------------------------</span></span>
<span><span class="co">## Estimand: amce</span></span>
<span><span class="co">## Structure: profile_level</span></span>
<span><span class="co">## Standard error method: analytical</span></span>
<span><span class="co">## SE type (lm_robust):   CR2 (clustered by id)</span></span>
<span><span class="co">## IRR: Assumed (0.75)</span></span>
<span><span class="co">## Tau: 0.146</span></span></code></pre>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 2 √ó 9</span></span></span>
<span><span class="co">##   estimand         estimate     se conf.low conf.high att_level_choose</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> amce_uncorrected   -<span style="color: #BB0000;">0.130</span> 0.025<span style="text-decoration: underline;">0</span>   -<span style="color: #BB0000;">0.179</span>   -<span style="color: #BB0000;">0.080</span><span style="color: #BB0000; text-decoration: underline;">8</span> att1:level3     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> amce_corrected     -<span style="color: #BB0000;">0.184</span> 0.035<span style="text-decoration: underline;">3</span>   -<span style="color: #BB0000;">0.253</span>   -<span style="color: #BB0000;">0.114</span>  att1:level3     </span></span>
<span><span class="co">## <span style="color: #949494;"># ‚Ñπ 3 more variables: att_level_notchoose &lt;chr&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   att_level_choose_baseline &lt;chr&gt;, att_level_notchoose_baseline &lt;chr&gt;</span></span></span></code></pre>
</details><details><summary>
üí° Tip: When to Use
<code>.by_var</code><a class="anchor" aria-label="anchor" href="#tip-when-to-use--by_var"></a>
</summary><p>Use <code>.by_var</code> <strong>only</strong> when comparing
<strong>profile-level MMs</strong> between two groups (e.g., Democrats
vs.¬†Republicans).</p>
For AMCEs or choice-level quantities, <code>.by_var</code> is not
currently supported.
</details><div class="section level3">
<h3 id="profile-level-mms-and-amces">üìà Profile-Level MMs and AMCEs<a class="anchor" aria-label="anchor" href="#profile-level-mms-and-amces"></a>
</h3>
<details><summary><b>Estimate</b>
</summary><div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mm</span>   <span class="op">&lt;-</span> <span class="fu"><a href="../reference/projoint.html">projoint</a></span><span class="op">(</span><span class="va">out1_arranged</span>, .structure <span class="op">=</span> <span class="st">"profile_level"</span><span class="op">)</span> </span>
<span><span class="va">amce</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/projoint.html">projoint</a></span><span class="op">(</span><span class="va">out1_arranged</span>, .structure <span class="op">=</span> <span class="st">"profile_level"</span>, .estimand <span class="op">=</span> <span class="st">"amce"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning in sqrt(diag(vcov_fit$Vcov_hat)): NaNs produced</span></span></code></pre>
</details><details><summary><b>Visualize</b>
</summary><ul>
<li>Marginal Means</li>
</ul>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mm</span><span class="op">)</span></span></code></pre></div>
<p><img src="faq_files/figure-html/unnamed-chunk-9-1.png" width="576"></p>
<ul>
<li>AMCEs</li>
</ul>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">amce</span><span class="op">)</span></span></code></pre></div>
<p><img src="faq_files/figure-html/unnamed-chunk-10-1.png" width="576"></p>
</details><details><summary><b>Profile-Level Subgroup Comparison: White vs.¬†Non-White
Respondents</b>
</summary><div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">outcomes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"choice"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">8</span><span class="op">)</span>, <span class="st">"choice1_repeated_flipped"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">exampleData1</span> <span class="op">|&gt;</span> <span class="fu">mutate</span><span class="op">(</span>white <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">race</span> <span class="op">==</span> <span class="st">"White"</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">df_0</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">white</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/reshape_projoint.html">reshape_projoint</a></span><span class="op">(</span><span class="va">outcomes</span><span class="op">)</span></span>
<span><span class="va">df_1</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">white</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/reshape_projoint.html">reshape_projoint</a></span><span class="op">(</span><span class="va">outcomes</span><span class="op">)</span></span>
<span><span class="va">df_d</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/reshape_projoint.html">reshape_projoint</a></span><span class="op">(</span><span class="va">outcomes</span>, .covariates <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"labels_arranged.csv"</span>, package <span class="op">=</span> <span class="st">"projoint"</span><span class="op">)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">data_file</span> <span class="op">==</span> <span class="st">""</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"File not found!"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">df_0</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_labels.html">read_labels</a></span><span class="op">(</span><span class="va">df_0</span>, <span class="va">data_file</span><span class="op">)</span></span>
<span><span class="va">df_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_labels.html">read_labels</a></span><span class="op">(</span><span class="va">df_1</span>, <span class="va">data_file</span><span class="op">)</span></span>
<span><span class="va">df_d</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_labels.html">read_labels</a></span><span class="op">(</span><span class="va">df_d</span>, <span class="va">data_file</span><span class="op">)</span></span>
<span></span>
<span><span class="va">out_0</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/projoint.html">projoint</a></span><span class="op">(</span><span class="va">df_0</span>, .structure <span class="op">=</span> <span class="st">"profile_level"</span><span class="op">)</span></span>
<span><span class="va">out_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/projoint.html">projoint</a></span><span class="op">(</span><span class="va">df_1</span>, .structure <span class="op">=</span> <span class="st">"profile_level"</span><span class="op">)</span></span>
<span><span class="va">out_d</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/projoint.html">projoint</a></span><span class="op">(</span><span class="va">df_d</span>, .structure <span class="op">=</span> <span class="st">"profile_level"</span>, .by_var <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">plot_0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">out_0</span><span class="op">)</span></span>
<span><span class="va">plot_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">out_1</span><span class="op">)</span></span>
<span><span class="va">plot_d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">out_d</span>, .by_var <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">plot_0</span> <span class="op">+</span></span>
<span>  <span class="fu">coord_cartesian</span><span class="op">(</span>xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.8</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Non-white"</span>, x <span class="op">=</span> <span class="st">"AMCE"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span>plot.title <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span></span>
<span><span class="va">plot_1</span> <span class="op">+</span></span>
<span>  <span class="fu">coord_cartesian</span><span class="op">(</span>xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.8</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"White"</span>, x <span class="op">=</span> <span class="st">"AMCE"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span>axis.text.y <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span>, plot.title <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span></span>
<span><span class="va">plot_d</span> <span class="op">+</span></span>
<span>  <span class="fu">coord_cartesian</span><span class="op">(</span>xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.4</span>, <span class="fl">0.4</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Difference"</span>, x <span class="op">=</span> <span class="st">"Difference"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span>axis.text.y <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span>, plot.title <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="faq_files/figure-html/unnamed-chunk-11-1.png" width="672"></p>
</details>
</div>
</details>
</div>
<div class="section level2">
<h2 id="how-did-researchers-design-conjoint-surveys-previously">How did researchers design conjoint surveys previously?<a class="anchor" aria-label="anchor" href="#how-did-researchers-design-conjoint-surveys-previously"></a>
</h2>
<details><summary>
Using Anton Strezhnev‚Äôs <strong>Conjoint Survey Design Tool</strong>
(Link:
<a href="https://github.com/astrezhnev/conjointsdt/" class="external-link" target="_blank">conjointSDT</a>)
</summary><div class="section level3">
<h3 id="generate-a-javascript-or-php-randomizer">1. Generate a JavaScript or PHP randomizer<a class="anchor" aria-label="anchor" href="#generate-a-javascript-or-php-randomizer"></a>
</h3>
<p>Many researchers use Anton Strezhnev‚Äôs <strong>Conjoint Survey Design
Tool</strong> (Link: <a href="https://github.com/astrezhnev/conjointsdt/" class="external-link">conjointSDT</a>) to
produce a JavaScript or PHP randomizer.</p>
<div class="section level4">
<h4 id="javascript">JavaScript<a class="anchor" aria-label="anchor" href="#javascript"></a>
</h4>
<p>The JavaScript randomizer can be inserted into the first screen of
your Qualtrics survey using <strong>Edit Question JavaScript</strong>.
Example screenshot:</p>
<p><img src="../reference/figures/embedded_js.png" id="id" class="class" style="width:80.0%;height:80.0%"></p>
<ul>
<li>Example JavaScript: <a href="https://raw.githubusercontent.com/yhoriuchi/projoint/master/data-raw/example.js" class="external-link">Download
here</a>
</li>
</ul>
<p>The JavaScript runs internally within Qualtrics and generates
<em>embedded fields</em> for each conjoint task.<br>
For example:</p>
<ul>
<li>
<code>"K-1-1-7"</code> = value for the 7th attribute, first profile,
first task</li>
<li>
<code>"K-5-2-5"</code> = value for the 5th attribute, second
profile, fifth task</li>
</ul>
</div>
<div class="section level4">
<h4 id="php">PHP<a class="anchor" aria-label="anchor" href="#php"></a>
</h4>
<p>Alternatively, the PHP randomizer must be hosted externally.</p>
<p>Example hosted on our server:<br><a href="https://www.horiuchi.org/php/ACHR_Modified_2.php" class="external-link uri">https://www.horiuchi.org/php/ACHR_Modified_2.php</a><br>
(PHP file <a href="https://raw.githubusercontent.com/yhoriuchi/projoint/master/data-raw/ACHR_Modified_2.php" class="external-link">here</a>)</p>
<p>This method was used in:<br><a href="https://www.nowpublishers.com/article/Details/QJPS-21119" class="external-link">Agadjanian,
Carey, Horiuchi, and Ryan (2023)</a></p>
<hr>
</div>
</div>
<div class="section level3">
<h3 id="modify-your-javascript-or-php-randomizer">2. Modify your JavaScript or PHP randomizer<a class="anchor" aria-label="anchor" href="#modify-your-javascript-or-php-randomizer"></a>
</h3>
<p>You may want to add constraints ‚Äî for example, <strong>prevent
ties</strong> between profiles.<br>
To do this, you can manually modify your JavaScript or PHP.</p>
<p>In the future, <strong>projoint</strong> will offer easier ways to
add constraints!<br>
Until then, resources like <a href="https://openai.com/gpt-4" class="external-link">OpenAI‚Äôs
GPT-4</a> can help you edit scripts.</p>
<p>Example PHP snippet ensuring racial balance between profiles:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode php"><code class="sourceCode php"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="va">$treat_profile_one</span> <span class="op">=</span> <span class="st">"B-"</span> <span class="op">.</span> <span class="dt">(string)</span><span class="va">$p</span> <span class="op">.</span> <span class="st">"-1-"</span> <span class="op">.</span> <span class="dt">(string)</span><span class="va">$treat_number</span><span class="ot">;</span></span>
<span id="cb38-2"><a href="#cb38-2" tabindex="-1"></a><span class="va">$treat_profile_two</span> <span class="op">=</span> <span class="st">"B-"</span> <span class="op">.</span> <span class="dt">(string)</span><span class="va">$p</span> <span class="op">.</span> <span class="st">"-2-"</span> <span class="op">.</span> <span class="dt">(string)</span><span class="va">$treat_number</span><span class="ot">;</span></span>
<span id="cb38-3"><a href="#cb38-3" tabindex="-1"></a><span class="va">$cond1</span> <span class="op">=</span> <span class="va">$returnarray</span>[<span class="va">$treat_profile_one</span>] <span class="op">==</span> <span class="st">"White"</span> <span class="op">&amp;&amp;</span> <span class="va">$returnarray</span>[<span class="va">$treat_profile_two</span>] <span class="op">==</span> <span class="va">$type</span><span class="ot">;</span></span>
<span id="cb38-4"><a href="#cb38-4" tabindex="-1"></a><span class="va">$cond2</span> <span class="op">=</span> <span class="va">$returnarray</span>[<span class="va">$treat_profile_two</span>] <span class="op">==</span> <span class="st">"White"</span> <span class="op">&amp;&amp;</span> <span class="va">$returnarray</span>[<span class="va">$treat_profile_one</span>] <span class="op">==</span> <span class="va">$type</span><span class="ot">;</span></span>
<span id="cb38-5"><a href="#cb38-5" tabindex="-1"></a></span>
<span id="cb38-6"><a href="#cb38-6" tabindex="-1"></a><span class="cf">if</span> (<span class="va">$cond1</span> <span class="op">or</span> <span class="va">$cond2</span>) {</span>
<span id="cb38-7"><a href="#cb38-7" tabindex="-1"></a>  <span class="va">$complete</span> <span class="op">=</span> <span class="kw">True</span><span class="ot">;</span></span>
<span id="cb38-8"><a href="#cb38-8" tabindex="-1"></a>}</span></code></pre></div>
<p>If you have good examples of manual constraints, please email <a href="mailto:yusaku.horiuchi@gmail.com">Yusaku Horiuchi</a>!</p>
<hr>
</div>
<div class="section level3">
<h3 id="add-conjoint-tables-with-embedded-fields-in-qualtrics">3. Add conjoint tables with embedded fields in Qualtrics<a class="anchor" aria-label="anchor" href="#add-conjoint-tables-with-embedded-fields-in-qualtrics"></a>
</h3>
<p>After generating the randomizer, you must create <strong>HTML
tables</strong> displaying embedded fields for each task.</p>
<p>Example of the first task:</p>
<p><img src="../reference/figures/screenshot_first.png" id="id" class="class" style="width:80.0%;height:80.0%"></p>
<ul>
<li>Example HTML file: <a href="https://raw.githubusercontent.com/yhoriuchi/projoint/master/data-raw/task_first.html" class="external-link">task_first.html</a>
</li>
</ul>
<p>Each conjoint study typically includes <strong>5-10
tasks</strong>.</p>
<p>The embedded fields update across tasks:<br>
e.g., <code>"K-1..."</code> for Task 1, <code>"K-2..."</code> for Task
2, and so on.</p>
<hr>
<div class="section level4">
<h4 id="adding-a-repeated-task-recommended">Adding a repeated task (recommended!)<a class="anchor" aria-label="anchor" href="#adding-a-repeated-task-recommended"></a>
</h4>
<p>It‚Äôs easy to create a <strong>repeated task</strong> for
intra-respondent reliability (IRR) estimation:</p>
<ul>
<li>Copy the HTML for Task 1 later into the survey (e.g., after Task
5)</li>
<li>
<strong>Flip</strong> Profile 1 and Profile 2 (swap the embedded
field digits)</li>
</ul>
<p>Example repeated task:</p>
<p><img src="../reference/figures/screenshot_last.png" id="id" class="class" style="width:80.0%;height:80.0%"></p>
<ul>
<li>Example HTML: <a href="https://raw.githubusercontent.com/yhoriuchi/projoint/master/data-raw/task_repeated.html" class="external-link">task_repeated.html</a>
</li>
</ul>
<hr>
</div>
</div>
<div class="section level3">
<h3 id="sample-qualtrics-survey-template">4. Sample Qualtrics survey template<a class="anchor" aria-label="anchor" href="#sample-qualtrics-survey-template"></a>
</h3>
<p>We provide a full <strong>Qualtrics QSF file</strong> ready to
use!</p>
<a href="https://raw.githubusercontent.com/yhoriuchi/projoint/master/data-raw/CHKKK_Mummolo_and_Nall_full_replication_W1_Lucid_-_August_2021.qsf" class="external-link">
<button class="btn btn-danger"><i class="fa fa-save"></i> Download QSF file</button>
</a>
<p><br></p>
<p>This file recreates a standard conjoint survey setup based on Mummolo
and Nall (2017).</p>

</div>
</details>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Yusaku Horiuchi, Aaron Kaufman, Gary King.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
